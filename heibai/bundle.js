!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";var r=[],o=[],c=!0,i=[],a=[],u=!1;function l(){s(3,3,!1),s(4,4,!1),s(3,4,!0),s(4,3,!0),p(),y(!0),w()}function f(e,n){return document.querySelectorAll(".row")[e].children[n].children[0].children[0]}function d(e,n){var t=f(e,n);t.classList.value="",t.innerText="",r[e][n]=2}function s(e,n,t){var c=f(e,n);c.classList.add("disc"),t?(c.classList.add("black"),r[e][n]=1):(c.classList.add("white"),r[e][n]=0),o.push([e,n,t])}function v(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"any";return"any"==t&&r[e][n]<2||r[e][n]==t}function g(e,n){return!(e<0||n<0)&&(e<8&&n<8)}function h(e,n,t,r,o){var c=!1;for(e+=t,n+=r;g(e,n)&&v(e,n,!o);)e+=t,n+=r,c=!0;return!!(g(e,n)&&v(e,n,o)&&c)}function m(e,n,t){if(u||v(e,n))return!1;for(var r=-1;r<2;r++)for(var o=-1;o<2;o++)if(0==r&&0==o);else if(h(e,n,r,o,t))return!0;return!1}function p(){i.length=0;for(var e=0;e<8;e++)for(var n=0;n<8;n++)m(e,n,c)&&i.push([e,n]);return i.length}function y(e){var n=0;i.forEach((function(t){var r=f(t[0],t[1]);r.classList.toggle("place",e),n++,r.innerText=e?n:""}))}function b(e,n,t,r,o){var c=[];for(e+=t,n+=r;g(e,n)&&v(e,n,!o);)c.push([e,n]),e+=t,n+=r;return g(e,n)&&v(e,n,o)&&c.length>0?c:[]}function E(e){0!=a.length&&a.forEach((function(n){var t=f(n[0],n[1]);t.classList.toggle("white",!e),t.classList.toggle("black",e),t.classList.add("curchange"),r[n[0]][n[1]]=Number(e)}))}function L(){a.forEach((function(e){f(e[0],e[1]).classList.remove("curchange")}))}function x(e){var n=0;return r.forEach((function(t,r){n+=t.filter((function(n){return n==e})).length})),n}function w(){document.getElementById("blackcount").innerText=x(!0),document.getElementById("whitecount").innerText=x(!1),document.getElementById("curorder").innerText=u?"结束":c?"黑走":"白走"}for(var j=0;j<8;j++){r[j]=new Array(8);for(var k=0;k<8;k++)r[j][k]=2}!function(){for(var e=document.getElementById("board"),n=0;n<8;n++){var t=document.createElement("div");t.classList.add("row"),e.appendChild(t);for(var r=0;r<8;r++){var i=document.createElement("div");i.classList.add("col");var l=document.createElement("div");l.classList.add("box"),l.appendChild(document.createElement("div")),i.appendChild(l),t.appendChild(i)}}for(var f=document.querySelectorAll(".box"),d=function(e){f[e].addEventListener("click",(function(n){var t=parseInt(e/8),r=e%8;m(t,r,c)&&(L(),function(e,n,t){a.length=0;for(var r=-1;r<2;r++)for(var o=-1;o<2;o++)if(0==r&&0==o);else{var c=b(e,n,r,o,t);c.length>0&&(a=a.concat(c))}}(t,r,c),s(t,r,c),E(c),y(!1),c=!c,64==o.length||0==x(c)?u=!0:0==p()&&(c=!c,0==p()&&(u=!0)),u||y(!0),w())}))},v=0;v<f.length;v++)d(v)}(),l(),document.getElementById("goback").addEventListener("click",(function(e){if(a.length>0){u=!1;var n=o.pop();E(!n[2]),L(),d(n[0],n[1]),y(!1),c=n[2],p(),y(!0),w(),a.length=0}})),document.getElementById("restart").addEventListener("click",(function(e){if(o.length>4&&window.confirm("确定要重新开始吗？")){!function(){o.length=0;for(var e=0;e<8;e++)for(var n=0;n<8;n++)r[e][n]=2;c=!0,i.length=0,a.length=0,u=!1}();for(var n=0;n<8;n++)for(var t=0;t<8;t++)d(n,t);l()}}))}]);